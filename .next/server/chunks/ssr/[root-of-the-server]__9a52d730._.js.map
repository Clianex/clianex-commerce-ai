{"version":3,"sources":["../../../../lib/prisma.ts","../../../../app/%28app%29/dashboard/page.jsx","../../../../lib/modules.js"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\n\nconst globalForPrisma = globalThis as unknown as {\n  prisma: PrismaClient | undefined;\n};\n\nexport const prisma =\n  globalForPrisma.prisma ??\n  new PrismaClient({\n    log: [\"error\"],\n  });\n\nif (process.env.NODE_ENV !== \"production\") {\n  globalForPrisma.prisma = prisma;\n}\n","import { auth } from \"@clerk/nextjs/server\";\nimport { getActiveModules } from \"@/lib/modules\";\n\nexport default async function DashboardPage() {\n  const { userId } = auth();\n  const modules = await getActiveModules(userId);\n\n  return (\n    <section className=\"p-8\">\n      <h1 className=\"text-2xl font-semibold\">Dashboard</h1>\n\n      <div className=\"mt-6 grid grid-cols-1 gap-4 md:grid-cols-3\">\n        {modules.map((module) => (\n          <div\n            key={module.key}\n            className=\"rounded-lg border p-4 shadow-sm\"\n          >\n            <h3 className=\"font-medium\">{module.name}</h3>\n            <p className=\"text-sm text-muted-foreground\">\n              Estado: activo\n            </p>\n          </div>\n        ))}\n      </div>\n    </section>\n  );\n}\n","import { prisma } from \"@/lib/prisma\";\r\n\r\n/**\r\n * Devuelve los mÃ³dulos activos de un usuario\r\n */\r\nexport async function getActiveModules(clerkId) {\r\n  if (!clerkId) return [];\r\n\r\n  const user = await prisma.user.findUnique({\r\n    where: { clerkId },\r\n    include: {\r\n      modules: {\r\n        where: { active: true },\r\n        include: {\r\n          module: true,\r\n        },\r\n      },\r\n    },\r\n  });\r\n\r\n  if (!user) return [];\r\n\r\n  return user.modules.map((m) => m.module);\r\n}\r\n"],"names":[],"mappings":"4eAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAMO,IAAM,EAJW,AAKtB,WAAgB,MAAM,EACtB,IAAI,EAAA,YAAY,CAAC,CACf,IAAK,CAAC,QAAQ,AAChB,8DCVF,EAAA,EAAA,CAAA,CAAA,MCAA,EAAA,EAAA,CAAA,CAAA,OAKO,eAAe,EAAiB,CAAO,EAC5C,GAAI,CAAC,EAAS,MAAO,EAAE,CAEvB,IAAM,EAAO,MAAM,EAAA,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CACxC,MAAO,SAAE,CAAQ,EACjB,QAAS,CACP,QAAS,CACP,MAAO,CAAE,QAAQ,CAAK,EACtB,QAAS,CACP,QAAQ,CACV,CACF,CACF,CACF,UAEA,AAAK,EAEE,EAFH,AAEQ,EAFD,KAEQ,CAAC,GAAG,CAAC,AAAC,GAAM,EAAE,MAAM,EAFrB,EAAE,AAGtB,CDpBe,eAAe,IAC5B,GAAM,QAAE,CAAM,CAAE,CAAG,CAAA,EAAA,EAAA,IAAA,AAAI,IACjB,EAAU,MAAM,EAAiB,GAEvC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CAAQ,UAAU,gBACjB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kCAAyB,cAEvC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sDACZ,EAAQ,GAAG,CAAC,AAAC,GACZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAU,4CAEV,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uBAAe,EAAO,IAAI,GACxC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,qBAJxC,EAAO,GAAG,OAY3B"}